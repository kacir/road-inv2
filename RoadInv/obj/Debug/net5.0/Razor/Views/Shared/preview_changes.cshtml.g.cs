#pragma checksum "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "255fb21e509086cf2c94587d0b0b3aad4f191e78"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared_preview_changes), @"mvc.1.0.view", @"/Views/Shared/preview_changes.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 2 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
using X.PagedList.Mvc.Core;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"255fb21e509086cf2c94587d0b0b3aad4f191e78", @"/Views/Shared/preview_changes.cshtml")]
    public class Views_Shared_preview_changes : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<RoadInv.Models.SystemChangesPageModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/css/micromodal.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 6 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
  Layout = "_Layout.cshtml";

#line default
#line hidden
#nullable disable
            DefineSection("nav_apnh", async() => {
                WriteLiteral("\r\n    active\r\n");
            }
            );
#nullable restore
#line 10 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
  
    ViewData["Title"] = "APHN";
    ViewData["slash"] = "/";
    ViewBag.Title = "APHN";


#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "255fb21e509086cf2c94587d0b0b3aad4f191e784170", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<script src=""https://unpkg.com/micromodal/dist/micromodal.min.js""></script>

<div id=""Segment-search-main-content master-grid"">
   
    <div class='split-right'>
        <div class=""master-grid grid-container"" style=""align-content: center; text-align: center;"">
            <div><h1>System Change: APHN</h1> </div>
        </div>
        <section>
            <h5>Validation Report</h5>
");
#nullable restore
#line 28 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
             using (Html.BeginForm("bulk_update", "system_changes", FormMethod.Post))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <table>\r\n                    <tr>\r\n                        <td>\r\n                            County: ");
#nullable restore
#line 33 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                               Write(Html.DisplayFor(Model => Model.County));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </td>\r\n                        Route: ");
#nullable restore
#line 35 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                          Write(Html.DisplayFor(Model => Model.Route));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        <td>\r\n                            Section: ");
#nullable restore
#line 37 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                Write(Html.DisplayFor(Model => Model.Section));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        <td />\r\n                        Direction: ");
#nullable restore
#line 39 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                              Write(Html.DisplayFor(Model => Model.Direction));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        <td>\r\n                            BLM: ");
#nullable restore
#line 41 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                            Write(Html.DisplayFor(Model => Model.BLM));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </td>\r\n                        <td>\r\n                            ELM: ");
#nullable restore
#line 44 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                            Write(Html.DisplayFor(Model => Model.ELM));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </td>\r\n                        <td>\r\n                            Total Miles to be Modified: ");
#nullable restore
#line 47 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                   Write(ViewBag.lenModified);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </td>\r\n                        <td>\r\n                            Total Miles of Roadway on APHN: ");
#nullable restore
#line 50 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                       Write(ViewBag.TotalLengthOnAPHN);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </td>\r\n                        <td>\r\n                            Total Miles of Roadway off APHN: ");
#nullable restore
#line 53 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                        Write(ViewBag.TotalLengthOffAPHN);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </td>\r\n                    </tr>\r\n                    ");
#nullable restore
#line 56 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.County));

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
            WriteLiteral("\r\n                    ");
#nullable restore
#line 57 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.Route));

#line default
#line hidden
#nullable disable
            WriteLiteral("  ");
            WriteLiteral("\r\n                    ");
#nullable restore
#line 58 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.Section));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 59 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.Direction));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 60 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.BLM));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 61 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.ELM));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 62 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.NHS));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 63 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.FuncClass));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 64 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.APHN));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    ");
#nullable restore
#line 65 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
               Write(Html.HiddenFor(Model => Model.SpecialSystem));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </table>\r\n                <br>\r\n                <div class=\'form-group\'>\r\n");
            WriteLiteral("                    <button data-toggle=\"tooltip\" class=\"modal__btn modal__btn-primary\" id=\"save-changes\" value=\"Submit\">Submit Changes</button>\r\n                </div>\r\n");
#nullable restore
#line 72 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"

            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            <div>
                <button data-toggle=""tooltip"" data-placement=""bottom""
                        title=""disables validation error handeling. Please only use in rare and nuanced situations"" id=""manual-override"" class=""segment-button"">
                    Manual Override
                </button>
            </div>
        </section>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('[data-toggle=""tooltip""]').tooltip();
    });
</script>

<script>
        var subjectAttributes = [""");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                             Write(Model.District);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                Write(Model.County);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                                 Write(Model.Section);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                                                   Write(Model.Route);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                                                                   Write(Model.Direction);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                                                                                       Write(Model.BLM);

#line default
#line hidden
#nullable disable
            WriteLiteral("\", \"");
#nullable restore
#line 91 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                                                                                                                                     Write(Model.ELM);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"""];

    function gatherInput() {
        inputs = {};

        var i;
        for (i = 0; i < subjectAttributes.length; i++) {
            var raw = $(""#"" + subjectAttributes[i]).val();
            inputs[subjectAttributes[i]] = raw;
        }

        inputs[""ID""] = ");
#nullable restore
#line 102 "C:\Users\MW42705\source\repos\road-inv2\RoadInv\Views\Shared\preview_changes.cshtml"
                  Write(Model.RoadID);

#line default
#line hidden
#nullable disable
            WriteLiteral(@";



        return inputs;
    }

    $(""input, select, textarea"").on(""keyup, change"", submitInputs);

    //General function to check to see if the inputs are valid
    function submitInputs() {
        console.log(""SubmitInputs"");
        var inputs = gatherInput();
        var constructString = """";

        //fill in the ID attribute because the user has no control over this variable. Hidden from user

        $.post(""api/validate_bulk"", inputs, errorPost, ""json"");

        //find the original input values and check to see if anything changed
        $(""#save-changes, #reset-changes"").attr(""disabled"", """");
        subjectAttributes.forEach(function (x) {
            if (originalValues[x] == inputs[x]) {
                //do nothing
            } else {
                $(""#save-changes, #reset-changes"").removeAttr(""disabled"");
            }
        });
    }

    //apply tag class error-flag to everything that has an error asscoaited with it.
    function errorPost(data) {
 ");
            WriteLiteral(@"       if (!$(""#manual-override"").hasClass(""override-active"")) {
            console.log(data);
            //zero out all attributes errors
            $("".error-flag"")
                .removeAttr(""title"")
                .tooltip('disable');

            for (i = 0; i < subjectAttributes.length; i++) {
                var raw = $(""#"" + subjectAttributes[i]).removeClass(""error-flag"");
            }
            data.forEach(function (item) {
                item.fields.forEach(function (field) {
                    console.log(item);
                    $(""#"" + field)
                        .addClass(""error-flag"")
                        .attr(""title"", item.errorMessageLong)
                        .attr(""data-placement"", ""bottom"")
                        .tooltip('enable');
                });

            });

            //change style of save change button if there area errors
            if (data.length > 0) {
                $(""#save-changes"").addClass(""override-active"").text(""C");
            WriteLiteral(@"an't Save, Errors"");
            } else {
                $(""#save-changes"").removeClass(""override-active"").text(""Save"");
            }

        } else {
            // logic goes here^
            $(""#save-changes"").removeClass(""override-active"").text(""Save"");
            subjectAttributes.forEach(function (item) {
                $(""#"" + item)
                    .removeClass(""error-flag"")
                    .removeAttr(""title"")
                    .removeAttr(""data-placement"")
                    .tooltip(""disable"");
            });
        }
    }
    //allow enable and disable of manual override ^
    $(""#manual-override"").click(function () {
        var button = $(""#manual-override"");

        if (button.hasClass(""override-active"")) {
            button.removeClass(""override-active"");
            submitInputs();
        } else {
            button.addClass(""override-active"");
            submitInputs();
        }
    });


    //run validation on all data after its been l");
            WriteLiteral("oaded even if its in the database\r\n    submitInputs();\r\n</script>\r\n\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<RoadInv.Models.SystemChangesPageModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
